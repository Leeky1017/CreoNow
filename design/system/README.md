# AI 执行文档系统

> **目的**: 将"隐性知识"显性化，为 AI 前端开发提供可执行的"施工图纸"  
> **来源**: 从 DESIGN_DECISIONS.md 拆分，结合 AI 前端开发方法论

---

## 目录结构

```
design/
├── DESIGN_DECISIONS.md        # 终极参考（完整规范）
├── Variant/
│   └── designs/               # HTML 设计稿（35 个）
├── system/                    # AI 执行文档（本目录）
│   ├── README.md              # 本文件
│   ├── 00-ROADMAP.md          # 执行路线图（AI 必看）
│   ├── 01-tokens.css          # Design Tokens 实现
│   ├── 02-component-cards/    # 组件生成卡片
│   │   ├── README.md
│   │   ├── Button.md          # 黄金标准
│   │   ├── Input.md           # 黄金标准
│   │   ├── Card.md            # 黄金标准
│   │   └── ...                # 其他组件待添加
│   ├── 03-state-inventory.md  # 全局状态清单
│   ├── 04-composition-scenarios/  # 组合场景验收
│   │   └── README.md
│   └── 05-design-mapping.md   # 设计稿到代码映射
└── reference-implementations/ # 黄金标准代码
    └── README.md
```

---

## 文档用途

| 文档 | 用途 | 何时读取 |
|------|------|----------|
| `00-ROADMAP.md` | 执行顺序和验收标准 | 开始前端开发前 |
| `01-tokens.css` | Design Tokens 定义 | 实现任何组件时 |
| `02-component-cards/*.md` | 组件施工图纸 | 生成特定组件时 |
| `03-state-inventory.md` | 状态覆盖检查表 | 验收组件时 |
| `04-composition-scenarios/` | 组合验收场景 | 单组件完成后 |
| `05-design-mapping.md` | 设计稿对照表 | 需要参考设计时 |

---

## 与 DESIGN_DECISIONS.md 的关系

- **DESIGN_DECISIONS.md**: 完整规范，作为终极参考
- **本目录**: 针对 AI 执行优化的拆分版本

当两者有冲突时，以 **DESIGN_DECISIONS.md** 为准。

---

## AI 开发工作流

```
┌─────────────────────────────────────────────────────────────┐
│                    AI 前端开发工作流                          │
└─────────────────────────────────────────────────────────────┘
     │
     ▼
┌─────────────────┐
│ 1. 读取 00-ROADMAP│ ← 了解当前 Phase 和任务
└───────┬─────────┘
        │
        ▼
┌─────────────────┐
│ 2. 读取组件卡片   │ ← 了解状态矩阵、边界情况
└───────┬─────────┘
        │
        ▼
┌─────────────────┐
│ 3. 读取黄金标准   │ ← 确保代码风格一致
└───────┬─────────┘
        │
        ▼
┌─────────────────┐
│ 4. AI 生成代码    │ ← 组件代码 + Story 文件
└───────┬─────────┘
        │
        ▼
┌─────────────────┐
│ 5. 运行验收测试   │ ← 自动化单元测试
└───────┬─────────┘
        │
        ├── 失败 ──▶ 回到 4，修复错误
        │
        ▼ 通过
┌─────────────────┐
│ 6. AI 可视化自检  │ ← 浏览器 MCP + Storybook
└───────┬─────────┘
        │
        ├── 发现问题 ──▶ 回到 4，自行修正
        │
        ▼ 通过
┌─────────────────┐
│ 7. 人工验收       │ ← 用户在 Storybook 中查看
└───────┬─────────┘
        │
        ├── 不满意 ──▶ 回到 4，根据反馈修改
        │
        ▼ 满意
┌─────────────────┐
│ 8. 提交组件       │
└─────────────────┘
```

---

## 核心原则

1. **分层执行**: 每层独立验收后再进入下一层
2. **黄金标准先行**: Button → Input → Card 精雕细琢后，后续组件以此为模板
3. **可视化反馈**: 每个组件必须通过 Storybook 自检
4. **状态完备**: 参考 `03-state-inventory.md` 确保所有状态覆盖
5. **迭代收敛**: 失败 → 修复 → 重试，直到验收通过

---

## 快速开始

### 生成一个新组件

1. 阅读 `02-component-cards/[组件名].md`
2. 阅读黄金标准代码（如有）
3. 使用卡片中的 Cursor Prompt 生成代码
4. 按照卡片中的 AI 自检步骤验证
5. 提交人工验收

### 添加新组件卡片

1. 复制 `02-component-cards/README.md` 中的模板
2. 填写组件的变体、状态、边界情况
3. 编写 Cursor Prompt
4. 编写验收测试代码
5. 编写 AI 自检步骤

---

## 维护说明

- 发现问题时，优先更新 `DESIGN_DECISIONS.md`，然后同步到本目录
- 每个组件完成后，更新 `05-design-mapping.md` 的状态
- 黄金标准代码变更时，通知依赖它的组件进行验证
