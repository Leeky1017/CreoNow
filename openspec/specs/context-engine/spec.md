# Context Engine Specification

## Purpose

分层上下文管理（Rules / Settings / Retrieved / Immediate），Token 预算分配与裁剪，Stable prefix hash 支持 prompt caching。

### Scope

| Layer    | Path                                         |
| -------- | -------------------------------------------- |
| Backend  | `main/src/services/context/`                 |
| IPC      | `main/src/ipc/context.ts`, `main/src/ipc/constraints.ts` |

## Requirements

<!-- TODO: 由 Owner 定义具体 Requirements 和 Scenarios -->
