import{R as o}from"./index-DDi9LDaq.js";import{c as u}from"./react-Cb9lVK8B.js";const n=o.createContext(null);function h(r){return u((e,c)=>({query:"",items:[],status:"idle",lastError:null,setQuery:t=>e({query:t}),clearResults:()=>e({items:[],status:"idle"}),clearError:()=>e({lastError:null}),runFulltext:async({projectId:t,limit:i})=>{const s=c().query;if(s.trim().length===0){e({items:[],status:"idle",lastError:null});return}e({status:"loading",lastError:null});const a=await r.invoke("search:fulltext",{projectId:t,query:s,limit:i});if(!a.ok){e({status:"error",lastError:a.error,items:[]});return}e({status:"ready",items:a.data.items,lastError:null})}}))}function l(r){return o.createElement(n.Provider,{value:r.store},r.children)}function S(r){const e=o.useContext(n);if(!e)throw new Error("SearchStoreProvider is missing");return e(r)}l.__docgenInfo={description:"Provide a search store instance for the Workbench UI.",methods:[],displayName:"SearchStoreProvider",props:{store:{required:!0,tsType:{name:"ReturnType",elements:[{name:"createSearchStore"}],raw:"ReturnType<typeof createSearchStore>"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};export{l as S,h as c,S as u};
