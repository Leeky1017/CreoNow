import{j as u}from"./jsx-runtime-BLchON5X.js";import{r as a}from"./index-DDi9LDaq.js";import{e as X,a as M,P as $,d as C,c as K,g as J}from"./index-DkX_XZs0.js";import{P as Q,D as Z}from"./index-BpH7dOlt.js";import{u as ee}from"./index-Dx0N0K8E.js";import{R as te,A as oe,a as re,c as S,C as ne}from"./index-wwK3GREC.js";import{P as H}from"./index-nu25GvvV.js";import{R as ae}from"./index-BEZKqDeb.js";var[j]=K("Tooltip",[S]),D=S(),q="TooltipProvider",se=700,O="tooltip.open",[ie,k]=j(q),G=t=>{const{__scopeTooltip:o,delayDuration:e=se,skipDelayDuration:r=300,disableHoverableContent:n=!1,children:l}=t,s=a.useRef(!0),d=a.useRef(!1),i=a.useRef(0);return a.useEffect(()=>{const f=i.current;return()=>window.clearTimeout(f)},[]),u.jsx(ie,{scope:o,isOpenDelayedRef:s,delayDuration:e,onOpen:a.useCallback(()=>{window.clearTimeout(i.current),s.current=!1},[]),onClose:a.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:d,onPointerInTransitChange:a.useCallback(f=>{d.current=f},[]),disableHoverableContent:n,children:l})};G.displayName=q;var E="Tooltip",[le,_]=j(E),V=t=>{const{__scopeTooltip:o,children:e,open:r,defaultOpen:n,onOpenChange:l,disableHoverableContent:s,delayDuration:d}=t,i=k(E,t.__scopeTooltip),f=D(o),[c,m]=a.useState(null),v=ee(),p=a.useRef(0),h=s??i.disableHoverableContent,g=d??i.delayDuration,x=a.useRef(!1),[y,T]=X({prop:r,defaultProp:n??!1,onChange:I=>{I?(i.onOpen(),document.dispatchEvent(new CustomEvent(O))):i.onClose(),l?.(I)},caller:E}),w=a.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),R=a.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x.current=!1,T(!0)},[T]),P=a.useCallback(()=>{window.clearTimeout(p.current),p.current=0,T(!1)},[T]),N=a.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{x.current=!0,T(!0),p.current=0},g)},[g,T]);return a.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),u.jsx(te,{...f,children:u.jsx(le,{scope:o,contentId:v,open:y,stateAttribute:w,trigger:c,onTriggerChange:m,onTriggerEnter:a.useCallback(()=>{i.isOpenDelayedRef.current?N():R()},[i.isOpenDelayedRef,N,R]),onTriggerLeave:a.useCallback(()=>{h?P():(window.clearTimeout(p.current),p.current=0)},[P,h]),onOpen:R,onClose:P,disableHoverableContent:h,children:e})})};V.displayName=E;var A="TooltipTrigger",F=a.forwardRef((t,o)=>{const{__scopeTooltip:e,...r}=t,n=_(A,e),l=k(A,e),s=D(e),d=a.useRef(null),i=M(o,d,n.onTriggerChange),f=a.useRef(!1),c=a.useRef(!1),m=a.useCallback(()=>f.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),u.jsx(oe,{asChild:!0,...s,children:u.jsx($.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...r,ref:i,onPointerMove:C(t.onPointerMove,v=>{v.pointerType!=="touch"&&!c.current&&!l.isPointerInTransitRef.current&&(n.onTriggerEnter(),c.current=!0)}),onPointerLeave:C(t.onPointerLeave,()=>{n.onTriggerLeave(),c.current=!1}),onPointerDown:C(t.onPointerDown,()=>{n.open&&n.onClose(),f.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:C(t.onFocus,()=>{f.current||n.onOpen()}),onBlur:C(t.onBlur,n.onClose),onClick:C(t.onClick,n.onClose)})})});F.displayName=A;var L="TooltipPortal",[ce,ue]=j(L,{forceMount:void 0}),z=t=>{const{__scopeTooltip:o,forceMount:e,children:r,container:n}=t,l=_(L,o);return u.jsx(ce,{scope:o,forceMount:e,children:u.jsx(H,{present:e||l.open,children:u.jsx(Q,{asChild:!0,container:n,children:r})})})};z.displayName=L;var b="TooltipContent",B=a.forwardRef((t,o)=>{const e=ue(b,t.__scopeTooltip),{forceMount:r=e.forceMount,side:n="top",...l}=t,s=_(b,t.__scopeTooltip);return u.jsx(H,{present:r||s.open,children:s.disableHoverableContent?u.jsx(U,{side:n,...l,ref:o}):u.jsx(pe,{side:n,...l,ref:o})})}),pe=a.forwardRef((t,o)=>{const e=_(b,t.__scopeTooltip),r=k(b,t.__scopeTooltip),n=a.useRef(null),l=M(o,n),[s,d]=a.useState(null),{trigger:i,onClose:f}=e,c=n.current,{onPointerInTransitChange:m}=r,v=a.useCallback(()=>{d(null),m(!1)},[m]),p=a.useCallback((h,g)=>{const x=h.currentTarget,y={x:h.clientX,y:h.clientY},T=ve(y,x.getBoundingClientRect()),w=he(y,T),R=xe(g.getBoundingClientRect()),P=Te([...w,...R]);d(P),m(!0)},[m]);return a.useEffect(()=>()=>v(),[v]),a.useEffect(()=>{if(i&&c){const h=x=>p(x,c),g=x=>p(x,i);return i.addEventListener("pointerleave",h),c.addEventListener("pointerleave",g),()=>{i.removeEventListener("pointerleave",h),c.removeEventListener("pointerleave",g)}}},[i,c,p,v]),a.useEffect(()=>{if(s){const h=g=>{const x=g.target,y={x:g.clientX,y:g.clientY},T=i?.contains(x)||c?.contains(x),w=!ge(y,s);T?v():w&&(v(),f())};return document.addEventListener("pointermove",h),()=>document.removeEventListener("pointermove",h)}},[i,c,s,f,v]),u.jsx(U,{...t,ref:l})}),[de,fe]=j(E,{isInside:!1}),me=J("TooltipContent"),U=a.forwardRef((t,o)=>{const{__scopeTooltip:e,children:r,"aria-label":n,onEscapeKeyDown:l,onPointerDownOutside:s,...d}=t,i=_(b,e),f=D(e),{onClose:c}=i;return a.useEffect(()=>(document.addEventListener(O,c),()=>document.removeEventListener(O,c)),[c]),a.useEffect(()=>{if(i.trigger){const m=v=>{v.target?.contains(i.trigger)&&c()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[i.trigger,c]),u.jsx(Z,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:s,onFocusOutside:m=>m.preventDefault(),onDismiss:c,children:u.jsxs(ne,{"data-state":i.stateAttribute,...f,...d,ref:o,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(me,{children:r}),u.jsx(de,{scope:e,isInside:!0,children:u.jsx(ae,{id:i.contentId,role:"tooltip",children:n||r})})]})})});B.displayName=b;var Y="TooltipArrow",W=a.forwardRef((t,o)=>{const{__scopeTooltip:e,...r}=t,n=D(e);return fe(Y,e).isInside?null:u.jsx(re,{...n,...r,ref:o})});W.displayName=Y;function ve(t,o){const e=Math.abs(o.top-t.y),r=Math.abs(o.bottom-t.y),n=Math.abs(o.right-t.x),l=Math.abs(o.left-t.x);switch(Math.min(e,r,n,l)){case l:return"left";case n:return"right";case e:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function he(t,o,e=5){const r=[];switch(o){case"top":r.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":r.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":r.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":r.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return r}function xe(t){const{top:o,right:e,bottom:r,left:n}=t;return[{x:n,y:o},{x:e,y:o},{x:e,y:r},{x:n,y:r}]}function ge(t,o){const{x:e,y:r}=t;let n=!1;for(let l=0,s=o.length-1;l<o.length;s=l++){const d=o[l],i=o[s],f=d.x,c=d.y,m=i.x,v=i.y;c>r!=v>r&&e<(m-f)*(r-c)/(v-c)+f&&(n=!n)}return n}function Te(t){const o=t.slice();return o.sort((e,r)=>e.x<r.x?-1:e.x>r.x?1:e.y<r.y?-1:e.y>r.y?1:0),ye(o)}function ye(t){if(t.length<=1)return t.slice();const o=[];for(let r=0;r<t.length;r++){const n=t[r];for(;o.length>=2;){const l=o[o.length-1],s=o[o.length-2];if((l.x-s.x)*(n.y-s.y)>=(l.y-s.y)*(n.x-s.x))o.pop();else break}o.push(n)}o.pop();const e=[];for(let r=t.length-1;r>=0;r--){const n=t[r];for(;e.length>=2;){const l=e[e.length-1],s=e[e.length-2];if((l.x-s.x)*(n.y-s.y)>=(l.y-s.y)*(n.x-s.x))e.pop();else break}e.push(n)}return e.pop(),o.length===1&&e.length===1&&o[0].x===e[0].x&&o[0].y===e[0].y?o:o.concat(e)}var Ce=G,be=V,we=F,Re=z,Pe=B,Ee=W;const _e=["z-[var(--z-tooltip)]","px-3","py-2","text-xs","font-normal","leading-tight","max-w-[200px]","rounded-[var(--radius-md)]","bg-[var(--color-fg-default)]","text-[var(--color-fg-inverse)]","shadow-[var(--shadow-md)]","animate-in","fade-in-0","zoom-in-95","data-[state=closed]:animate-out","data-[state=closed]:fade-out-0","data-[state=closed]:zoom-out-95","data-[side=bottom]:slide-in-from-top-2","data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2","data-[side=top]:slide-in-from-bottom-2"].join(" "),je="fill-[var(--color-fg-default)]";function De({children:t,content:o,side:e="top",align:r="center",delayDuration:n=400,open:l,onOpenChange:s,skipDelayDuration:d=300}){return u.jsx(Ce,{delayDuration:n,skipDelayDuration:d,children:u.jsxs(be,{open:l,onOpenChange:s,children:[u.jsx(we,{asChild:!0,children:t}),u.jsx(Re,{children:u.jsxs(Pe,{side:e,align:r,sideOffset:5,className:_e,children:[o,u.jsx(Ee,{className:je})]})})]})})}De.__docgenInfo={description:`Tooltip component using Radix UI

Displays additional information when hovering over an element.

@example
\`\`\`tsx
<TooltipProvider>
  <Tooltip content="This is a tooltip">
    <button>Hover me</button>
  </Tooltip>
</TooltipProvider>
\`\`\``,methods:[],displayName:"Tooltip",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"The element that triggers the tooltip"},content:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"The content to display in the tooltip"},side:{required:!1,tsType:{name:"union",raw:'"top" | "right" | "bottom" | "left"',elements:[{name:"literal",value:'"top"'},{name:"literal",value:'"right"'},{name:"literal",value:'"bottom"'},{name:"literal",value:'"left"'}]},description:"Side where tooltip appears",defaultValue:{value:'"top"',computed:!1}},align:{required:!1,tsType:{name:"union",raw:'"start" | "center" | "end"',elements:[{name:"literal",value:'"start"'},{name:"literal",value:'"center"'},{name:"literal",value:'"end"'}]},description:"Alignment of tooltip",defaultValue:{value:'"center"',computed:!1}},delayDuration:{required:!1,tsType:{name:"number"},description:"Delay in ms before showing tooltip",defaultValue:{value:"400",computed:!1}},open:{required:!1,tsType:{name:"boolean"},description:"Whether the tooltip is open (controlled)"},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:"Callback when open state changes"},skipDelayDuration:{required:!1,tsType:{name:"number"},description:"Skip delay when moving between tooltips",defaultValue:{value:"300",computed:!1}}}};export{De as T};
