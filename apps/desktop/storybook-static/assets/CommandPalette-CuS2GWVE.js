import{j as r}from"./jsx-runtime-BLchON5X.js";import{R as m}from"./index-DDi9LDaq.js";import{C as l}from"./Card-D2dqmnxE.js";import{L as c}from"./ListItem-CyD6nTsv.js";import{T as a}from"./Text-CW-Kyc9R.js";import{i as u}from"./ipcClient-lUJD4lt8.js";import{u as p}from"./editorStore-ByocGlaq.js";import{u as x}from"./projectStore-wjKW615C.js";function f(o){const n=x(e=>e.current?.projectId??null),i=p(e=>e.documentId),[s,t]=m.useState(null);if(!o.open)return null;async function d(){if(t(null),!n){t("No current project");return}const e=await u("export:markdown",{projectId:n,documentId:i??void 0});if(!e.ok){t(`${e.error.code}: ${e.error.message}`);return}o.onOpenChange(!1)}return r.jsx("div",{className:"cn-overlay",onClick:()=>o.onOpenChange(!1),children:r.jsxs(l,{"data-testid":"command-palette",role:"dialog","aria-modal":"true",onClick:e=>e.stopPropagation(),variant:"raised",className:"w-[520px] max-w-[90vw] flex flex-col gap-2.5 p-4 rounded-[var(--radius-lg)]",children:[r.jsxs("div",{className:"flex items-baseline gap-2.5",children:[r.jsx(a,{size:"small",color:"muted",children:"Command Palette"}),r.jsx(a,{size:"tiny",color:"subtle",className:"ml-auto",children:"Ctrl/Cmd+P"})]}),s?r.jsx(a,{"data-testid":"command-palette-error",size:"small",color:"muted",children:s}):null,r.jsx(c,{"data-testid":"command-item-export-markdown",interactive:!0,compact:!0,onClick:()=>{d()},className:"border border-[var(--color-border-default)] text-left",children:"Export Markdown"})]})})}f.__docgenInfo={description:"",methods:[],displayName:"CommandPalette",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""}}};export{f as C};
