import{j as s}from"./jsx-runtime-BLchON5X.js";import{r as n,R as U}from"./index-DDi9LDaq.js";import{r as ye}from"./index-BWwYGMPc.js";import{e as Ee,d as b,P as N,a as oe,c as he,h as ge,u as be}from"./index-DkX_XZs0.js";import{c as Ce}from"./index-D6SgtPiA.js";import{B as Pe,R as Re,P as Se}from"./index-BpH7dOlt.js";import{P as Ie}from"./index-nu25GvvV.js";import{u as q}from"./index-CQ0IhcTf.js";import{V as re}from"./index-BEZKqDeb.js";var G="ToastProvider",[J,Ne,_e]=Ce("Toast"),[se]=he("Toast",[_e]),[Fe,H]=se(G),ne=e=>{const{__scopeToast:o,label:r="Notification",duration:t=5e3,swipeDirection:a="right",swipeThreshold:u=50,children:d}=e,[v,w]=n.useState(null),[l,g]=n.useState(0),x=n.useRef(!1),_=n.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${G}\`. Expected non-empty \`string\`.`),s.jsx(J.Provider,{scope:o,children:s.jsx(Fe,{scope:o,label:r,duration:t,swipeDirection:a,swipeThreshold:u,toastCount:l,viewport:v,onViewportChange:w,onToastAdd:n.useCallback(()=>g(R=>R+1),[]),onToastRemove:n.useCallback(()=>g(R=>R-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:_,children:d})})};ne.displayName=G;var ae="ToastViewport",Ae=["F8"],Y="toast.viewportPause",B="toast.viewportResume",ie=n.forwardRef((e,o)=>{const{__scopeToast:r,hotkey:t=Ae,label:a="Notifications ({hotkey})",...u}=e,d=H(ae,r),v=Ne(r),w=n.useRef(null),l=n.useRef(null),g=n.useRef(null),x=n.useRef(null),_=oe(o,x,d.onViewportChange),R=t.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=d.toastCount>0;n.useEffect(()=>{const c=y=>{t.length!==0&&t.every(m=>y[m]||y.code===m)&&x.current?.focus()};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[t]),n.useEffect(()=>{const c=w.current,y=x.current;if(S&&c&&y){const f=()=>{if(!d.isClosePausedRef.current){const T=new CustomEvent(Y);y.dispatchEvent(T),d.isClosePausedRef.current=!0}},m=()=>{if(d.isClosePausedRef.current){const T=new CustomEvent(B);y.dispatchEvent(T),d.isClosePausedRef.current=!1}},E=T=>{!c.contains(T.relatedTarget)&&m()},h=()=>{c.contains(document.activeElement)||m()};return c.addEventListener("focusin",f),c.addEventListener("focusout",E),c.addEventListener("pointermove",f),c.addEventListener("pointerleave",h),window.addEventListener("blur",f),window.addEventListener("focus",m),()=>{c.removeEventListener("focusin",f),c.removeEventListener("focusout",E),c.removeEventListener("pointermove",f),c.removeEventListener("pointerleave",h),window.removeEventListener("blur",f),window.removeEventListener("focus",m)}}},[S,d.isClosePausedRef]);const p=n.useCallback(({tabbingDirection:c})=>{const f=v().map(m=>{const E=m.ref.current,h=[E,...Ue(E)];return c==="forwards"?h:h.reverse()});return(c==="forwards"?f.reverse():f).flat()},[v]);return n.useEffect(()=>{const c=x.current;if(c){const y=f=>{const m=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!m){const h=document.activeElement,T=f.shiftKey;if(f.target===c&&T){l.current?.focus();return}const A=p({tabbingDirection:T?"backwards":"forwards"}),O=A.findIndex(I=>I===h);X(A.slice(O+1))?f.preventDefault():T?l.current?.focus():g.current?.focus()}};return c.addEventListener("keydown",y),()=>c.removeEventListener("keydown",y)}},[v,p]),s.jsxs(Pe,{ref:w,role:"region","aria-label":a.replace("{hotkey}",R),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&s.jsx(z,{ref:l,onFocusFromOutsideViewport:()=>{const c=p({tabbingDirection:"forwards"});X(c)}}),s.jsx(J.Slot,{scope:r,children:s.jsx(N.ol,{tabIndex:-1,...u,ref:_})}),S&&s.jsx(z,{ref:g,onFocusFromOutsideViewport:()=>{const c=p({tabbingDirection:"backwards"});X(c)}})]})});ie.displayName=ae;var ce="ToastFocusProxy",z=n.forwardRef((e,o)=>{const{__scopeToast:r,onFocusFromOutsideViewport:t,...a}=e,u=H(ce,r);return s.jsx(re,{tabIndex:0,...a,ref:o,style:{position:"fixed"},onFocus:d=>{const v=d.relatedTarget;!u.viewport?.contains(v)&&t()}})});z.displayName=ce;var k="Toast",De="toast.swipeStart",je="toast.swipeMove",ke="toast.swipeCancel",Le="toast.swipeEnd",le=n.forwardRef((e,o)=>{const{forceMount:r,open:t,defaultOpen:a,onOpenChange:u,...d}=e,[v,w]=Ee({prop:t,defaultProp:a??!0,onChange:u,caller:k});return s.jsx(Ie,{present:r||v,children:s.jsx(Ve,{open:v,...d,ref:o,onClose:()=>w(!1),onPause:q(e.onPause),onResume:q(e.onResume),onSwipeStart:b(e.onSwipeStart,l=>{l.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:b(e.onSwipeMove,l=>{const{x:g,y:x}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","move"),l.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:b(e.onSwipeCancel,l=>{l.currentTarget.setAttribute("data-swipe","cancel"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:b(e.onSwipeEnd,l=>{const{x:g,y:x}=l.detail.delta;l.currentTarget.setAttribute("data-swipe","end"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),l.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),l.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),l.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),w(!1)})})})});le.displayName=k;var[Oe,Me]=se(k,{onClose(){}}),Ve=n.forwardRef((e,o)=>{const{__scopeToast:r,type:t="foreground",duration:a,open:u,onClose:d,onEscapeKeyDown:v,onPause:w,onResume:l,onSwipeStart:g,onSwipeMove:x,onSwipeCancel:_,onSwipeEnd:R,...S}=e,p=H(k,r),[c,y]=n.useState(null),f=oe(o,i=>y(i)),m=n.useRef(null),E=n.useRef(null),h=a||p.duration,T=n.useRef(0),F=n.useRef(h),L=n.useRef(0),{onToastAdd:A,onToastRemove:O}=p,I=q(()=>{c?.contains(document.activeElement)&&p.viewport?.focus(),d()}),M=n.useCallback(i=>{!i||i===1/0||(window.clearTimeout(L.current),T.current=new Date().getTime(),L.current=window.setTimeout(I,i))},[I]);n.useEffect(()=>{const i=p.viewport;if(i){const C=()=>{M(F.current),l?.()},P=()=>{const D=new Date().getTime()-T.current;F.current=F.current-D,window.clearTimeout(L.current),w?.()};return i.addEventListener(Y,P),i.addEventListener(B,C),()=>{i.removeEventListener(Y,P),i.removeEventListener(B,C)}}},[p.viewport,h,w,l,M]),n.useEffect(()=>{u&&!p.isClosePausedRef.current&&M(h)},[u,h,p.isClosePausedRef,M]),n.useEffect(()=>(A(),()=>O()),[A,O]);const Z=n.useMemo(()=>c?we(c):null,[c]);return p.viewport?s.jsxs(s.Fragment,{children:[Z&&s.jsx(Ke,{__scopeToast:r,role:"status","aria-live":t==="foreground"?"assertive":"polite",children:Z}),s.jsx(Oe,{scope:r,onClose:I,children:ye.createPortal(s.jsx(J.ItemSlot,{scope:r,children:s.jsx(Re,{asChild:!0,onEscapeKeyDown:b(v,()=>{p.isFocusedToastEscapeKeyDownRef.current||I(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(N.li,{tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":p.swipeDirection,...S,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:b(e.onKeyDown,i=>{i.key==="Escape"&&(v?.(i.nativeEvent),i.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:b(e.onPointerDown,i=>{i.button===0&&(m.current={x:i.clientX,y:i.clientY})}),onPointerMove:b(e.onPointerMove,i=>{if(!m.current)return;const C=i.clientX-m.current.x,P=i.clientY-m.current.y,D=!!E.current,j=["left","right"].includes(p.swipeDirection),V=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,Te=j?V(0,C):0,xe=j?0:V(0,P),$=i.pointerType==="touch"?10:2,K={x:Te,y:xe},ee={originalEvent:i,delta:K};D?(E.current=K,W(je,x,ee,{discrete:!1})):te(K,p.swipeDirection,$)?(E.current=K,W(De,g,ee,{discrete:!1}),i.target.setPointerCapture(i.pointerId)):(Math.abs(C)>$||Math.abs(P)>$)&&(m.current=null)}),onPointerUp:b(e.onPointerUp,i=>{const C=E.current,P=i.target;if(P.hasPointerCapture(i.pointerId)&&P.releasePointerCapture(i.pointerId),E.current=null,m.current=null,C){const D=i.currentTarget,j={originalEvent:i,delta:C};te(C,p.swipeDirection,p.swipeThreshold)?W(Le,R,j,{discrete:!0}):W(ke,_,j,{discrete:!0}),D.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),Ke=e=>{const{__scopeToast:o,children:r,...t}=e,a=H(k,o),[u,d]=n.useState(!1),[v,w]=n.useState(!1);return He(()=>d(!0)),n.useEffect(()=>{const l=window.setTimeout(()=>w(!0),1e3);return()=>window.clearTimeout(l)},[]),v?null:s.jsx(Se,{asChild:!0,children:s.jsx(re,{...t,children:u&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},We="ToastTitle",ue=n.forwardRef((e,o)=>{const{__scopeToast:r,...t}=e;return s.jsx(N.div,{...t,ref:o})});ue.displayName=We;var qe="ToastDescription",de=n.forwardRef((e,o)=>{const{__scopeToast:r,...t}=e;return s.jsx(N.div,{...t,ref:o})});de.displayName=qe;var pe="ToastAction",fe=n.forwardRef((e,o)=>{const{altText:r,...t}=e;return r.trim()?s.jsx(ve,{altText:r,asChild:!0,children:s.jsx(Q,{...t,ref:o})}):(console.error(`Invalid prop \`altText\` supplied to \`${pe}\`. Expected non-empty \`string\`.`),null)});fe.displayName=pe;var me="ToastClose",Q=n.forwardRef((e,o)=>{const{__scopeToast:r,...t}=e,a=Me(me,r);return s.jsx(ve,{asChild:!0,children:s.jsx(N.button,{type:"button",...t,ref:o,onClick:b(e.onClick,a.onClose)})})});Q.displayName=me;var ve=n.forwardRef((e,o)=>{const{__scopeToast:r,altText:t,...a}=e;return s.jsx(N.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":t||void 0,...a,ref:o})});function we(e){const o=[];return Array.from(e.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&o.push(t.textContent),$e(t)){const a=t.ariaHidden||t.hidden||t.style.display==="none",u=t.dataset.radixToastAnnounceExclude==="";if(!a)if(u){const d=t.dataset.radixToastAnnounceAlt;d&&o.push(d)}else o.push(...we(t))}}),o}function W(e,o,r,{discrete:t}){const a=r.originalEvent.currentTarget,u=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});o&&a.addEventListener(e,o,{once:!0}),t?ge(a,u):a.dispatchEvent(u)}var te=(e,o,r=0)=>{const t=Math.abs(e.x),a=Math.abs(e.y),u=t>a;return o==="left"||o==="right"?u&&t>r:!u&&a>r};function He(e=()=>{}){const o=q(e);be(()=>{let r=0,t=0;return r=window.requestAnimationFrame(()=>t=window.requestAnimationFrame(o)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(t)}},[o])}function $e(e){return e.nodeType===e.ELEMENT_NODE}function Ue(e){const o=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const a=t.tagName==="INPUT"&&t.type==="hidden";return t.disabled||t.hidden||a?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)o.push(r.currentNode);return o}function X(e){const o=document.activeElement;return e.some(r=>r===o?!0:(r.focus(),document.activeElement!==o))}var Xe=ne,Ye=ie,Be=le,ze=ue,Ge=de,Je=fe,Qe=Q;const Ze={default:{border:"border-[var(--color-border-default)]",icon:"text-[var(--color-fg-muted)]"},success:{border:"border-[var(--color-success)]",icon:"text-[var(--color-success)]"},error:{border:"border-[var(--color-error)]",icon:"text-[var(--color-error)]"},warning:{border:"border-[var(--color-warning)]",icon:"text-[var(--color-warning)]"}},et=["fixed","bottom-4","right-4","z-[var(--z-toast)]","flex","flex-col","gap-2","w-[360px]","max-w-[calc(100vw-32px)]","outline-none"].join(" "),tt=["bg-[var(--color-bg-raised)]","rounded-[var(--radius-lg)]","shadow-[var(--shadow-lg)]","border","p-4","flex","gap-3","items-start","data-[state=open]:animate-in","data-[state=open]:slide-in-from-right-full","data-[state=open]:fade-in-0","data-[state=closed]:animate-out","data-[state=closed]:slide-out-to-right-full","data-[state=closed]:fade-out-0","data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)]","data-[swipe=cancel]:translate-x-0","data-[swipe=cancel]:transition-transform","data-[swipe=end]:animate-out","data-[swipe=end]:slide-out-to-right-full"].join(" "),ft=Xe;function ot(){return s.jsx(Ye,{className:et})}function rt({title:e,description:o,variant:r="default",open:t,onOpenChange:a,duration:u=5e3,action:d}){const v=Ze[r];return s.jsxs(Be,{open:t,onOpenChange:a,duration:u,className:`${tt} ${v.border}`,children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(ze,{className:"text-sm font-medium text-[var(--color-fg-default)]",children:e}),o&&s.jsx(Ge,{className:"mt-1 text-xs text-[var(--color-fg-muted)]",children:o}),d&&s.jsx(Je,{altText:d.label,onClick:d.onClick,className:"mt-2 text-xs font-medium text-[var(--color-accent)] hover:underline cursor-pointer",children:d.label})]}),s.jsx(Qe,{className:"flex-shrink-0 w-6 h-6 flex items-center justify-center rounded-[var(--radius-sm)] text-[var(--color-fg-muted)] hover:bg-[var(--color-bg-hover)] hover:text-[var(--color-fg-default)] transition-colors cursor-pointer","aria-label":"Close",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}function mt(){const[e,o]=U.useState({open:!1,title:""}),r=U.useCallback(a=>{o({...a,open:!0})},[]),t=U.useCallback(()=>{o(a=>({...a,open:!1}))},[]);return{toast:e,showToast:r,hideToast:t,setOpen:a=>o(u=>({...u,open:a}))}}ot.__docgenInfo={description:"Toast Viewport - place this at the root of your app",methods:[],displayName:"ToastViewport"};rt.__docgenInfo={description:`Toast component using Radix UI

Displays a temporary notification message.

@example
\`\`\`tsx
<ToastProvider>
  <Toast
    title="File saved"
    description="Your changes have been saved."
    variant="success"
    open={open}
    onOpenChange={setOpen}
  />
  <ToastViewport />
</ToastProvider>
\`\`\``,methods:[],displayName:"Toast",props:{title:{required:!0,tsType:{name:"string"},description:"Toast title"},description:{required:!1,tsType:{name:"string"},description:"Toast description (optional)"},variant:{required:!1,tsType:{name:"union",raw:'"default" | "success" | "error" | "warning"',elements:[{name:"literal",value:'"default"'},{name:"literal",value:'"success"'},{name:"literal",value:'"error"'},{name:"literal",value:'"warning"'}]},description:"Visual variant",defaultValue:{value:'"default"',computed:!1}},open:{required:!1,tsType:{name:"boolean"},description:"Whether the toast is open (controlled)"},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:"Callback when open state changes"},duration:{required:!1,tsType:{name:"number"},description:"Duration in ms before auto-close (0 to disable)",defaultValue:{value:"5000",computed:!1}},action:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  label: string;
  onClick: () => void;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"onClick",value:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}},required:!0}}]}},description:"Action button (optional)"}}};export{rt as T,ft as a,ot as b,mt as u};
