import{j as s}from"./jsx-runtime-BLchON5X.js";import{r as c}from"./index-DDi9LDaq.js";import{P as O,d as m,e as q,a as b,c as L,b as V}from"./index-DkX_XZs0.js";import{P as $,D as z}from"./index-BpH7dOlt.js";import{h as G,R as H,u as U,F as B}from"./index-c9SlT_P8.js";import{u as K}from"./index-Dx0N0K8E.js";import{R as W,A,c as w,C as Z,a as J}from"./index-wwK3GREC.js";import{P as y}from"./index-nu25GvvV.js";var x="Popover",[_]=L(x,[w]),g=w(),[Q,p]=_(x),j=e=>{const{__scopePopover:n,children:r,open:a,defaultOpen:o,onOpenChange:t,modal:i=!1}=e,l=g(n),f=c.useRef(null),[v,P]=c.useState(!1),[h,u]=q({prop:a,defaultProp:o??!1,onChange:t,caller:x});return s.jsx(W,{...l,children:s.jsx(Q,{scope:n,contentId:K(),triggerRef:f,open:h,onOpenChange:u,onOpenToggle:c.useCallback(()=>u(C=>!C),[u]),hasCustomAnchor:v,onCustomAnchorAdd:c.useCallback(()=>P(!0),[]),onCustomAnchorRemove:c.useCallback(()=>P(!1),[]),modal:i,children:r})})};j.displayName=x;var E="PopoverAnchor",X=c.forwardRef((e,n)=>{const{__scopePopover:r,...a}=e,o=p(E,r),t=g(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=o;return c.useEffect(()=>(i(),()=>l()),[i,l]),s.jsx(A,{...t,...a,ref:n})});X.displayName=E;var N="PopoverTrigger",T=c.forwardRef((e,n)=>{const{__scopePopover:r,...a}=e,o=p(N,r),t=g(r),i=b(n,o.triggerRef),l=s.jsx(O.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":k(o.open),...a,ref:i,onClick:m(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?l:s.jsx(A,{asChild:!0,...t,children:l})});T.displayName=N;var R="PopoverPortal",[Y,ee]=_(R,{forceMount:void 0}),D=e=>{const{__scopePopover:n,forceMount:r,children:a,container:o}=e,t=p(R,n);return s.jsx(Y,{scope:n,forceMount:r,children:s.jsx(y,{present:r||t.open,children:s.jsx($,{asChild:!0,container:o,children:a})})})};D.displayName=R;var d="PopoverContent",F=c.forwardRef((e,n)=>{const r=ee(d,e.__scopePopover),{forceMount:a=r.forceMount,...o}=e,t=p(d,e.__scopePopover);return s.jsx(y,{present:a||t.open,children:t.modal?s.jsx(te,{...o,ref:n}):s.jsx(re,{...o,ref:n})})});F.displayName=d;var oe=V("PopoverContent.RemoveScroll"),te=c.forwardRef((e,n)=>{const r=p(d,e.__scopePopover),a=c.useRef(null),o=b(n,a),t=c.useRef(!1);return c.useEffect(()=>{const i=a.current;if(i)return G(i)},[]),s.jsx(H,{as:oe,allowPinchZoom:!0,children:s.jsx(S,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:m(e.onCloseAutoFocus,i=>{i.preventDefault(),t.current||r.triggerRef.current?.focus()}),onPointerDownOutside:m(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,f=l.button===0&&l.ctrlKey===!0,v=l.button===2||f;t.current=v},{checkForDefaultPrevented:!1}),onFocusOutside:m(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),re=c.forwardRef((e,n)=>{const r=p(d,e.__scopePopover),a=c.useRef(!1),o=c.useRef(!1);return s.jsx(S,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||r.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,t.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=t.target;r.triggerRef.current?.contains(i)&&t.preventDefault(),t.detail.originalEvent.type==="focusin"&&o.current&&t.preventDefault()}})}),S=c.forwardRef((e,n)=>{const{__scopePopover:r,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:t,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:v,onInteractOutside:P,...h}=e,u=p(d,r),C=g(r);return U(),s.jsx(B,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:t,children:s.jsx(z,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:P,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:v,onDismiss:()=>u.onOpenChange(!1),children:s.jsx(Z,{"data-state":k(u.open),role:"dialog",id:u.contentId,...C,...h,ref:n,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),M="PopoverClose",I=c.forwardRef((e,n)=>{const{__scopePopover:r,...a}=e,o=p(M,r);return s.jsx(O.button,{type:"button",...a,ref:n,onClick:m(e.onClick,()=>o.onOpenChange(!1))})});I.displayName=M;var ne="PopoverArrow",ae=c.forwardRef((e,n)=>{const{__scopePopover:r,...a}=e,o=g(r);return s.jsx(J,{...o,...a,ref:n})});ae.displayName=ne;function k(e){return e?"open":"closed"}var se=j,ie=T,ce=D,le=F,pe=I;const ue=["z-[var(--z-popover)]","bg-[var(--color-bg-raised)]","border","border-[var(--color-border-default)]","rounded-[var(--radius-md)]","shadow-[var(--shadow-md)]","min-w-[200px]","max-w-[320px]","p-4","transition-[opacity,transform]","duration-[var(--duration-fast)]","ease-[var(--ease-default)]","data-[state=open]:opacity-100","data-[state=open]:scale-100","data-[state=closed]:opacity-0","data-[state=closed]:scale-95","focus:outline-none"].join(" ");function de({open:e,onOpenChange:n,defaultOpen:r,trigger:a,children:o,side:t="bottom",sideOffset:i=8,align:l="center"}){return s.jsxs(se,{open:e,onOpenChange:n,defaultOpen:r,children:[s.jsx(ie,{asChild:!0,children:a}),s.jsx(ce,{children:s.jsx(le,{className:ue,side:t,sideOffset:i,align:l,collisionPadding:8,children:o})})]})}const Re=pe;de.__docgenInfo={description:`Popover component following design spec ยง5.2

A floating popover built on Radix UI Popover for proper positioning and focus management.
Uses z-index popover (300) and shadow-md.

@example
\`\`\`tsx
<Popover trigger={<Button variant="ghost">Open Menu</Button>}>
  <div>Popover content here</div>
</Popover>
\`\`\``,methods:[],displayName:"Popover",props:{open:{required:!1,tsType:{name:"boolean"},description:"Controlled open state"},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:"Callback when open state changes"},defaultOpen:{required:!1,tsType:{name:"boolean"},description:"Default open state (uncontrolled)"},trigger:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Trigger element"},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Popover content"},side:{required:!1,tsType:{name:"union",raw:'"top" | "right" | "bottom" | "left"',elements:[{name:"literal",value:'"top"'},{name:"literal",value:'"right"'},{name:"literal",value:'"bottom"'},{name:"literal",value:'"left"'}]},description:'Preferred side of the trigger to render. Default: "bottom"',defaultValue:{value:'"bottom"',computed:!1}},sideOffset:{required:!1,tsType:{name:"number"},description:"Offset from trigger in pixels. Default: 8",defaultValue:{value:"8",computed:!1}},align:{required:!1,tsType:{name:"union",raw:'"start" | "center" | "end"',elements:[{name:"literal",value:'"start"'},{name:"literal",value:'"center"'},{name:"literal",value:'"end"'}]},description:'Alignment relative to trigger. Default: "center"',defaultValue:{value:'"center"',computed:!1}}}};export{de as P,Re as a};
