# 📋 产品定义

## 一句话定义

CreoNow 是一个 **AI 驱动的文字创作 IDE**，定位为"创作者的 Cursor"。

---

## 解决什么问题

当前创作者使用 AI 辅助写作，基本只有两条路：

- **通用聊天机器人**（ChatGPT、Claude）：每次对话都从零开始，不记得角色设定、不了解剧情走向、不知道写作风格。需要反复粘贴上下文。
- **通用代码 IDE**（Cursor、Windsurf）：对代码理解很深，但对小说、剧本、自媒体文章这类"文字创作"完全没有领域感知。不理解"人物弧光""伏笔回收""叙事节奏"等概念。

CreoNow 要做的是：**在文字创作这个垂直领域，建立一个真正理解创作的工具。**

---

## 核心能力

### 1. 上下文工程（Context Engineering）

CN 的核心竞争力在于 **分层上下文系统**，将上下文分为多个层级：

| 层级 | 说明 |
| --- | --- |
| **Rules 层** | 项目级的创作规则（如"本作品第一人称叙述""主角不说脏话"） |
| **Settings 层** | 用户偏好与风格设定 |
| **Retrieved 层** | 通过语义检索从当前项目中召回的相关内容 |
| **Immediate 层** | 当前正在编辑的段落和用户的即时指令 |

每一层都有独立的 token 预算和裁剪策略。系统还会为静态上下文生成稳定的前缀哈希（stablePrefixHash），支持 prompt caching，降低重复调用成本。

### 2. 知识图谱（Knowledge Graph）

内置知识图谱，管理创作中的实体和关系——角色、地点、事件、物品、阵营及其关联。知识图谱直接作为上下文来源参与 AI 推理，实现 **像素级理解**：结构化地理解作品中的每一个要素。

### 3. 记忆系统（Memory）

持续学习用户的写作偏好：

- 短句 vs 长句倾向
- 修辞手法偏好
- 动作场景节奏偏好

通过用户与 AI 的交互反馈不断积累，形成个性化权重。即使语义召回不可用，也有确定性降级策略。

### 4. 技能系统（Skill System）

AI 能力抽象为可组合的"技能"，每个技能有独立的 context_rules 和执行逻辑：

- **内置技能**：续写、改写、扩写、缩写、风格迁移
- **自定义技能**：用户可自行创建
- **三级作用域**：builtin → global → project，可独立启停

### 5. 版本历史

像 Git 管理代码一样管理写作版本：

- 每次保存生成快照
- AI 修改自动标记为 `actor=ai`
- 支持任意两个版本的 diff 对比
- 一键恢复到历史版本

---

## 与竞品对比

| **维度** | **ChatGPT / Claude** | **Cursor / Windsurf** | **CreoNow** |
| --- | --- | --- | --- |
| 领域 | 通用 | 代码 | 文字创作 |
| 上下文 | 单次对话 | 代码库索引 | 分层上下文 + 知识图谱 + 记忆 |
| 理解深度 | 表层文本 | 语法 / 类型 / 依赖 | 人物 / 剧情 / 风格 / 伏笔 / 叙事结构 |
| 协作模式 | 问答 | Inline Edit + Chat | 技能驱动 + AI Diff + 版本管理 |
| 个性化 | 无 | 有限 | 持续学习写作偏好 |