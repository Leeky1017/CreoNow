### 这是什么？

AI 几乎从不重构已有代码。当你要求加一个新功能时，AI 会在原有代码上面「堆叠」新代码，而不是重新组织已有结构让新功能自然融入。

打个比方：你让人在一栋楼上加一个房间，他不会调整楼层布局，而是直接在楼顶上焊了一个铁皮屋。然后你再要求加一个，他又在铁皮屋上面焊一个。日子一长，这栋楼就变成了危楼。

### 🔍 具体表现

- **只增不删**：新功能加了，旧的废弃代码还在，文件只会越来越大
- **补丁式修复**：修 bug 不是找根因，而是在外面包一层 `if` 判断绕过去
- **特殊情况堆叠**：`if (typeA)... else if (typeB)... else if (typeC)...` 无限延伸，而不是用设计模式优化
- **拒绝移动代码**：即使一个函数明显应该放到另一个模块，AI 也倾向于留在原处然后 import 过去
- **害怕删除**：AI 几乎从不主动删除代码，总是注释掉或者用 flag 禁用

### ⚠️ 为什么有害？

1. **这是你当前「大文件」问题的根本原因之一**：文件只增不减，当然会越来越大
2. **技术债累积**：每次「堆叠」都在增加复杂度，后续修改成本指数增长
3. **新旧混杂**：废弃的代码和在用的代码混在一起，没人知道哪些还在用
4. **与「重耦合」问题叠加**：因为不重构，依赖关系只会越缠越紧

### ✅ Owner Review 要点

- [ ]  每次让 Agent 添加功能时，**同时要求它评估是否需要重构已有代码**
- [ ]  在 [AGENTS.md](http://AGENTS.md) 中加入：*「添加新功能前必须先评估并重构受影响的已有代码；禁止注释掉代码来替代删除」*
- [ ]  定期要求 Agent 做「清理 Sprint」：专门删除死代码、合并重复逻辑
- [ ]  建立**文件行数阈值**（如 300 行），超过时强制触发拆分审查