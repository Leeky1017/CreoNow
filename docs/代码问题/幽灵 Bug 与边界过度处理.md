### 这是什么？

AI 会为**根本不存在的场景**编写防御代码。它会「想象」出各种极端情况，然后认真地写代码去处理这些不可能发生的事情。

打个比方：你让人帮你设计家门锁，他不仅装了锁，还加了防陨石撞击的护盾、防火山灰的过滤器、防外星人入侵的力场。这些防护完全没必要，但每一个都增加了门的重量和维护成本。

### 🔍 具体表现

- **不可能的类型检查**：TypeScript 已经约束了类型是字符串，AI 还要加 `if (typeof x === 'string')`
- **已保证非空仍判空**：上一行刚创建了对象，下一行就 `if (obj !== null)`
- **虚构的竞态处理**：在单线程环境中写了多线程锁的逻辑
- **永不触发的 else 分支**：处理了所有可能的枚举值，还要加一个 `else { throw new Error('impossible') }`
- **极端数值防护**：对一个用户年龄字段做了 `Number.MAX_SAFE_INTEGER` 的溢出检查

### ⚠️ 为什么有害？

1. **代码膨胀**：大量无用的防御代码占据文件空间，加剧大文件问题
2. **误导性**：后续读代码的人（或 AI）会以为这些边界情况是真实存在的，增加理解成本
3. **掩盖真实边界**：真正需要处理的边界情况反而被淹没在幽灵 bug 的海洋里
4. **与「过度降级」问题叠加**：幽灵边界 + fallback 降级 = 一大堆永远不会执行但会干扰理解的代码

### ✅ Owner Review 要点

- [ ]  对每一个 `if` 检查都问：**「这个条件真的可能发生吗？」**
- [ ]  利用 TypeScript 的类型系统来**消除不必要的运行时检查**
- [ ]  在 [AGENTS.md](http://AGENTS.md) 中加入：*「依赖类型系统做编译时保证，不要重复做运行时类型检查；不要处理根据业务逻辑不可能出现的场景」*
- [ ]  让 Agent 在写防御代码时，**必须注释说明这个边界为什么可能发生**